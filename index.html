<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>A Letter for You</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Handwritten Google Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;600&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg-light: #f5f5f5;
      --bg-dark: #0f0f14;
      --envelope-light: #ffffff;
      --envelope-dark: #1c1c24;
      --letter-light: #ffffff;
      --letter-dark: #242430;
      --text-light: #333;
      --text-dark: #e6e6eb;
      --accent: #d8b4fe;
    }

    body {
      margin: 0;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--bg-light);
      font-family: Georgia, serif;
      transition: background 0.5s ease;
    }

    @media (prefers-color-scheme: dark) {
      body {
        background: var(--bg-dark);
      }
    }

    .container {
      width: 90%;
      max-width: 340px;
      position: relative;
      cursor: pointer;
    }

    .hint {
      text-align: center;
      margin-bottom: 12px;
      font-size: 14px;
      opacity: 0.7;
      color: #777;
    }

    @media (prefers-color-scheme: dark) {
      .hint {
        color: #aaa;
      }
    }

    /* Envelope */
    .envelope {
      position: relative;
      width: 100%;
      height: 220px;
      background: var(--envelope-light);
      border-radius: 10px;
      box-shadow: 0 15px 30px rgba(0,0,0,0.15);
      overflow: hidden;
      transition: background 0.5s ease;
    }

    @media (prefers-color-scheme: dark) {
      .envelope {
        background: var(--envelope-dark);
      }
    }

    /* Flap */
    .flap {
      position: absolute;
      top: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #f2f2f2, #e6e6e6);
      clip-path: polygon(0 0, 100% 0, 50% 55%);
      transform-origin: top;
      transition: transform 0.9s ease;
      z-index: 3;
    }

    @media (prefers-color-scheme: dark) {
      .flap {
        background: linear-gradient(135deg, #2a2a35, #1e1e28);
      }
    }

    /* Letter */
    .letter {
      position: absolute;
      bottom: 12px;
      left: 12px;
      width: calc(100% - 24px);
      height: calc(100% - 24px);
      background: var(--letter-light);
      border-radius: 8px;
      padding: 18px;
      box-sizing: border-box;
      transform: translateY(110%);
      transition: transform 1.1s ease 0.3s, background 0.5s ease;
      z-index: 2;
      overflow-y: auto;
      scrollbar-width: none;        
      -ms-overflow-style: none;     
    }

    .letter::-webkit-scrollbar {
      display: none;                
    }

    @media (prefers-color-scheme: dark) {
      .letter {
        background: var(--letter-dark);
      }
    }

    .letter p {
      font-family: 'Caveat', cursive;
      font-size: 20px;
      line-height: 1.8;
      color: var(--text-light);
    }

    @media (prefers-color-scheme: dark) {
      .letter p {
        color: var(--text-dark);
      }
    }

    /* Signature */
    .signature {
      margin-top: 22px;
      font-family: 'Caveat', cursive;
      font-size: 22px;
      font-style: normal;
      opacity: 0;
      transform: translateY(10px);
      animation: fadeIn 2s ease forwards;
      animation-delay: 2.5s;
      color: var(--accent);
    }

    @keyframes fadeIn {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Open state */
    .open .flap {
      transform: rotateX(180deg);
    }

    .open .letter {
      transform: translateY(0);
    }

    /* Fade effect at bottom of letter */
    .letter::after {
      content: "";
      position: sticky;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 40px;
      pointer-events: none;
      background: linear-gradient(
        to bottom,
        rgba(255, 255, 255, 0),
        var(--letter-light)
      );
    }

    @media (prefers-color-scheme: dark) {
      .letter::after {
        background: linear-gradient(
          to bottom,
          rgba(36, 36, 48, 0),
          var(--letter-dark)
        );
      }
    }

    /* Sparkles */
    .sparkle {
      position: absolute;
      width: 6px;
      height: 6px;
      background: radial-gradient(circle, #fff, rgba(255,255,255,0));
      border-radius: 50%;
      pointer-events: none;
      animation: sparkle 1.8s ease-out forwards;
    }

    @keyframes sparkle {
      0% {
        opacity: 0;
        transform: scale(0.5) translateY(0);
      }
      30% {
        opacity: 1;
      }
      100% {
        opacity: 0;
        transform: scale(1.4) translateY(-40px);
      }
    }
  </style>
</head>

<body>
  <audio id="music" src="written-in-your-heart.mp3" loop></audio>

  <div class="container" onclick="openLetter()">
    <div class="hint">Tap to open ü§ç</div>

    <div class="envelope">
      <div class="flap"></div>

      <div class="letter">
        <p>
          There will be moments when you feel alone, and moments when you feel
          incredibly strong, and both belong just as much as the other. Be
          gentle with yourself as you step into this new life. There‚Äôs no rush
          to have everything figured out, and no shame in taking things one day
          at a time. Some days will feel heavy, and others will quietly remind
          you why you were brave enough to go, but through all of it, remember
          that you are growing in ways you can‚Äôt always see yet. Let yourself
          rest when you need to, ask for help when things feel overwhelming, and
          celebrate even the smallest wins. No matter how far you travel or how
          much you change, you are deeply loved, supported, and carried in the
          hearts of the people who care about you and that love goes with you
          wherever you are.

          <br><br>

          I will miss you so so much, ate! You have taught me so much and I hope 
          that you allow yourself to experience all the things that life has to
          offer. I will always be one call away! I love you so much.
        </p>

        <div class="signature">
          With so much love ü§ç
        </div>
      </div>
    </div>
  </div>

  <script>
    let opened = false;

    function openLetter() {
      const container = document.querySelector(".container");
      const music = document.getElementById("music");

      container.classList.toggle("open");

      if (!opened) {
        music.volume = 0.6;
        music.play().catch(() => {});
        createSparkles(container);
        opened = true;
      }
    }

    function createSparkles(parent) {
      for (let i = 0; i < 18; i++) {
        const sparkle = document.createElement("div");
        sparkle.className = "sparkle";

        sparkle.style.left = Math.random() * 100 + "%";
        sparkle.style.top = Math.random() * 60 + "%";
        sparkle.style.animationDelay = Math.random() * 0.5 + "s";

        parent.appendChild(sparkle);

        setTimeout(() => sparkle.remove(), 2000);
      }
    }
  </script>
</body>
</html>
